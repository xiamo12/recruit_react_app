{"ast":null,"code":"// 使用axios封装ajax请求函数，函数返回一个Promise对象\nimport axios from \"axios\";\nexport default function ajax(url = \"\", data = {}, type = \"GET\") {\n  //给data和type设置默认值\n  if (type === \"GET\") {\n    //将获取到的data数据进行处理，拼接请求参数的字符串。\n    //请求参数的格式是url?xxx=xxx&yy=yy\n    let paramStr = \"\";\n    Object.keys(data).forEach(key => {\n      paramStr += key + \"=\" + data[key] + \"&\";\n    });\n\n    if (paramStr !== \"\") {\n      paramStr = paramStr.substring(0, paramStr.length - 1); //去掉最后一个“&”号\n    } //使用axios发送get请求\n\n\n    return axios.get(url + \"?\" + paramStr);\n  } else {\n    //用axios发送post请求。\n    return axios.post(url, data);\n  }\n}","map":{"version":3,"sources":["/Users/luofei/recruit_react_app/recruit_react_app/src/api/ajax.js"],"names":["axios","ajax","url","data","type","paramStr","Object","keys","forEach","key","substring","length","get","post"],"mappings":"AAAA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe,SAASC,IAAT,CAAcC,GAAG,GAAC,EAAlB,EAAsBC,IAAI,GAAC,EAA3B,EAA+BC,IAAI,GAAC,KAApC,EAA0C;AAAE;AAC1D,MAAIA,IAAI,KAAK,KAAb,EAAoB;AACnB;AACA;AACD,QAAIC,QAAQ,GAAG,EAAf;AACAC,IAAAA,MAAM,CAACC,IAAP,CAAYJ,IAAZ,EAAkBK,OAAlB,CAA0BC,GAAG,IAAI;AAChCJ,MAAAA,QAAQ,IAAII,GAAG,GAAG,GAAN,GAAYN,IAAI,CAACM,GAAD,CAAhB,GAAwB,GAApC;AACA,KAFD;;AAGA,QAAIJ,QAAQ,KAAK,EAAjB,EAAqB;AACpBA,MAAAA,QAAQ,GAAGA,QAAQ,CAACK,SAAT,CAAmB,CAAnB,EAAsBL,QAAQ,CAACM,MAAT,GAAgB,CAAtC,CAAX,CADoB,CACiC;AACrD,KATmB,CAUpB;;;AACC,WAAOX,KAAK,CAACY,GAAN,CAAUV,GAAG,GAAC,GAAJ,GAAQG,QAAlB,CAAP;AACA,GAZD,MAYK;AACJ;AACA,WAAOL,KAAK,CAACa,IAAN,CAAWX,GAAX,EAAeC,IAAf,CAAP;AACA;AACD","sourcesContent":["// 使用axios封装ajax请求函数，函数返回一个Promise对象\n\nimport axios from \"axios\";\nexport default function ajax(url=\"\", data={}, type=\"GET\"){ //给data和type设置默认值\n\tif (type === \"GET\") {\n\t\t//将获取到的data数据进行处理，拼接请求参数的字符串。\n\t\t//请求参数的格式是url?xxx=xxx&yy=yy\n\tlet paramStr = \"\";\n\tObject.keys(data).forEach(key => {\n\t\tparamStr += key + \"=\" + data[key] + \"&\";\n\t});\n\tif (paramStr !== \"\") {\n\t\tparamStr = paramStr.substring(0, paramStr.length-1); //去掉最后一个“&”号\n\t}\n\t//使用axios发送get请求\n\t\treturn axios.get(url+\"?\"+paramStr);\n\t}else{\n\t\t//用axios发送post请求。\n\t\treturn axios.post(url,data)\n\t}\n}\n\n"]},"metadata":{},"sourceType":"module"}